[event-agent]
namespace = OPENIO
user = openio
# URL of the queue to listen to. Notice that the old event-agent is only able
# to listen to Beanstalkd, and the new one is only able to listen to AMQP queues.
queue_url = beanstalk://127.0.0.1:11300
# queue_url = amqp://guest:guest@127.0.0.1:5672/%2F

# When using Beanstalkd, listen to this tube.
tube = oio

# When using AMQP, this is the queue name (will also read "tube"
# for compatibility). This parameter takes precedence over
# "events.amqp.queue_name" in namespace's configuration.
#queue_name = oio

# Comma-separated list of key-value arguments to pass when declaring the queue.
# The default queue type is "classic". This parameter takes precedence over
# "events.amqp.queue_args" in namespace's configuration.
#queue_args = x-queue-type=quorum

# Name of the (topic) exchange to bind the queue to. This parameter takes
# precedence over "events.amqp.exchange_name" in namespace's configuration.
#exchange_name = oio

# Routing key to use when binding the queue to the exchange.
# The character '#' is a wildcard and will match everything.
# This parameter takes precedence over "events.amqp.bind_routing_key"
# in namespace's configuration.
#routing_key = #

# Arguments to use when binding the queue to the exchange.
# Only useful with header exchanges. This parameter takes precedence over
# "events.amqp.bind_args" in namespace's configuration.
#bind_args =

# Number of worker processes, based on CPU count if not set or zero
workers = 2

# Number of green threads (only for the old event-agent)
#concurrency = 10

handlers_conf = /etc/oio/sds/OPENIO/event-agent/event-handlers.conf

# How often to refresh the account service address (in seconds)
#acct_refresh_interval = 3600.0

log_facility = LOG_LOCAL0
log_level = INFO
log_address = /dev/log
syslog_prefix = OIO,OPENIO,event-agent,1

#log all events that are handled (access logs)
# avaiable values:
# the request_id: %(request_id) 
# the tube (beanstalkd): %(tube)s
# the topic (kafka): %(topic)s
# the name of th event: %(event)s
# the returned status code: %(status)d
# the time it took the handle the event: %(duration)f
#log_request_format = 

#statsd_host =
#statsd_port = 8125
#statsd_prefix =
#statsd_maxudpsize = 512
#statsd_ipv6 = false

# Timeouts for the internal RdirClient (used mostly by volume_index filter)
#rdir_connection_timeout = 2.0
#rdir_read_timeout = 30.0

# How often to refresh the rdir services addresses (in seconds)
#rdir_refresh_interval = 3600.0
